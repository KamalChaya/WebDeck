
<html>
	<head>
		<script src="deck_class.js"></script>
		<script type = 'text/javascript' src = 'http://ajax.googleapis.com/ajax/libs/jquery/1.5.0/jquery.min.js'></script>
		<script type = "text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/jquery-ui.min.js"></script>
	</head>

	<body>

		<link rel = 'stylesheet' type = 'text/css' href = 'deck_test_interface.css'>
		<link rel = 'stylesheet' type = 'text/css' href = 'deck_style.css'>
		<div id="container">
		</div>
		<div id="tests">
		<div id= "test1">Test 1 has failed.</div>
		<div id= "test2">Test 2 has failed.</div>
		<div id= "test3">Test 3 has failed.</div>
		<div id= "test4">Test 4 has failed.</div>
		<div id= "test5">Test 5 has failed.</div>
		<div id= "test6">Test 6 has failed.</div>
		<div id= "test7">Test 7 has failed.</div>
		<div id= "test8">Test 8 has failed.</div>
		<div id= "test9">Test 9 has failed.</div>
		<div id= "test10">Test 10 has failed.</div>
		<div id= "test11">Test 11 has failed.</div>
		<div id= "test12">Test 12 has failed.</div>
		<div id= "test13">Test 13 has failed.</div>
		<div id= "test14">Test 14 has failed.</div>
		<div id= "test15">Test 15 has failed.</div>
		<div id= "test16">Test 16 has failed.</div>
		<div id= "test17">Test 17 has failed.</div>

		</div>
		<script>
		var top_z = 70;
		</script>
		<script>
			//Test 1
			var new_stack = new deck();
			console.log("Test 1: Card constructor returned successfully.");
			document.getElementById("test1").innerHTML = ("Test 1: Card Constructor test Passes.");
		</script>

		<script>
			// Test 2
			var new_stack = new deck(1);
			console.log("Test 2: New Stack ID:" + new_stack.id);
			if (typeof new_stack.deck_id != 'undefined'){
				document.getElementById("test2").innerHTML = ("Test 2: Creating Deck with an id Passes.");
			}
		</script>

		<script>
			//Test 3
			var new_stack = new deck(1);
			console.log("Test 3: New Stack.Cards = " + new_stack.cards);
			if (typeof new_stack.cards != 'undefined'){
				document.getElementById("test3").innerHTML = ("Test 3: Creating deck with an empty card array Passes.");
			}
		</script>

		<script>
			//Test 4
			var card_array = [1,2,3,4,5];
			var new_stack = new deck(1,card_array);
			console.log("Test 4: Element 0 of new stack is " + new_stack.cards[0]);
			if (new_stack.cards[0] == 1){
				document.getElementById("test4").innerHTML = ("Test 4: Creating deck with a passed-in array Passes.");
			}
		</script>

		<script>
			//Test 5: shuffling

			var card_array = [1,2,3,4,5];
			var new_stack = new deck(1,card_array);
			new_stack.shuffle();

			for (var i in card_array) {
				if (card_array[i] != new_stack.cards[i]) {
					document.getElementById("test5").innerHTML = ("Test 5: Shuffling the deck Passes.");
					break;
				}
			}
			console.log("Test 5: Original array is " + card_array[0],card_array[1],card_array[2],card_array[3],card_array[4]);
			console.log("Test 5: after shuffling order of cards is now " + new_stack.cards[0],new_stack.cards[1],new_stack.cards[2],new_stack.cards[3],new_stack.cards[4]);
		</script>

		<script>
			//Test 6: add_card

			var card_array = []; // top of the deck = last index
			var new_stack = new deck(1,card_array);

			new_stack.add_card(4); //  this should be in index 1
			new_stack.add_card(2); // this should be in index 0

			console.log("Test 6: cards added: " + new_stack.cards[0],new_stack.cards[1]);
			if (new_stack.cards[0] == 2 && new_stack.cards[1] == 4){
				document.getElementById("test6").innerHTML = ("Test 6: Initial card adding Passes.");
			}
		</script>

		<script>
			//Test 7: add_card

			var card_array = []; // top of the deck = last index
			var new_stack = new deck(1,card_array);

			new_stack.add_card(4); //  this should be in index 1 (top of stack)
			new_stack.add_card(2); // this should be in index 0 (bottom of stack)

			var new_card = new_stack.draw_card();
			console.log("Test 7: Drawing cards. new_card = " + new_card);
			console.log("Test 7: Drawing cards. top card = " + new_stack.cards[0]);


			if (new_card == 4 && new_stack.cards[0] == 2){
				document.getElementById("test7").innerHTML = ("Test 7: Card adding and drawing Passes.");
			}
		</script>

		<script>
			// Tests functions with string card ids
			var card_array = []; // top of the deck = last index
			var new_stack = new deck(1,card_array);

			new_stack.add_card('AH');
			new_stack.add_card('2C');
			new_stack.add_card('KD');
			new_stack.add_card('10S');

			var new_card = new_stack.draw_card();

			console.log("Test 8: Drawing cards. new_card = " + new_card);
			console.log("Test 8: Drawing cards. top card = " + new_stack.cards[0]);

			if (new_card == 'AH' && new_stack.cards[0] == '10S'){
				document.getElementById("test8").innerHTML = ("Test 8: Tests with string card IDs Pass.");
			}
		</script>

		<script>
			// Tests deck flipping
			var card_array = ['AH', '2C', 'KD', '10S']; // top of the deck = last index
			var new_stack = new deck(1,card_array);
			new_stack.flip_deck();
			console.log("Test 9: First Card = " + new_stack.cards[0]);
			var new_card = new_stack.draw_card();
			console.log("Test 9: After drawing card, first Card = " + new_stack.cards[0]);
			if (new_card == 'AH' && new_stack.cards[0] == '2C' && new_stack.face_up){
				document.getElementById("test9").innerHTML = ("Test 9: Flipping and drawing Passes.");
			}
		</script>

		<script>
			// Test 10: 
			var card_array = ['AH', '2C', 'KD', '10S']; // top of the deck = last index
			var new_stack = new deck(1,card_array);

			new_stack.flip_deck();
			new_stack.add_card('QH');

			console.log("Test 10: First card: " + new_stack.cards[0]);
			console.log("Test 10: Last card: " + new_stack.cards[4]);

			if (new_stack.cards[0] == 'AH' && new_stack.cards[4] == 'QH'){
				document.getElementById("test10").innerHTML = ("Test 10: Flipping and adding Passes.");
			}
		</script>

		<script>
			// Test 11: 
			var card_array = ['AH', '2C', 'KD', '10S']; // top of the deck = last index
			var new_stack = new deck(1,card_array);

			new_stack.flip_deck();
			new_stack.add_card('QH',true); // adds to top

			console.log("Test 11: First card: " + new_stack.cards[0]);
			console.log("Test 11: Last card: " + new_stack.cards[4]);

			if (new_stack.cards[0] == 'QH' && new_stack.cards[4] == '10S'){
				document.getElementById("test11").innerHTML = ("Test 11: Better flipping and adding to top Passes.");
			}
		</script>

		<script>
		// Test 12: Div creation and image filling
			var card_array = ['AH', '2C', 'KD', '10S']; // top of the deck = last index
			var id = 'deck_1';
			var new_stack = new deck(id,card_array);
			new_stack.make_div();
			new_stack.set_position(10,10);
			if (typeof document.getElementById("deck_1") != 'undefined'){
				document.getElementById("test12").innerHTML = ("Test 12: Div creation Passes.");
				console.log("Test 12: Deck div created and accessed.")
			}
		</script>

		<script>
			// Test 13:
			var id2 = 'deck_2';
			var id3 = 'deck_3';
			
			var deck2 = new deck(id2);
			for (var i = 0; i < 30; ++i) {
				deck2.add_card(i);
			}
			deck2.make_div();
			deck2.set_position(120,10);

			var deck3 = new deck(id3);
			for (var i = 0; i < 50; ++i) {
				deck3.add_card(i);
			}
			deck3.make_div();
			deck3.set_position(240,10);

			if (typeof document.getElementById("deck_2") != 'undefined' &&
					typeof document.getElementById("deck_3") != 'undefined') {
				document.getElementById("test13").innerHTML = ("Test 13: Multiple div creation Passes.");
				console.log("Test 13: Deck div created and accessed.")
			}
		</script>

		<script>
			new_stack.remove_deck();
			//console.log(document.getElementById("deck_1"));
			//console.log(document.getElementById("deck_2"));

			if (document.getElementById("deck_1") == null &&
				typeof new_stack == 'undefined') {
				document.getElementById("test14").innerHTML = ("Test 14: Div destruction 1 passes.");
				console.log("Test 14: Div 1 Destruction passed.");
			}
/*
			deck2.remove_deck();
			if (typeof document.getElementById("deck_2") == 'undefined' &&
				typeof deck2 == 'undefined') {
				document.getElementById("test14").innerHTML = ("Test 14: Div destruction 2 passes.");
				console.log("Test 14: Div 1 Destruction passed.");
			}

			deck3.remove_deck();
			if (typeof document.getElementById("deck_3") == 'undefined' &&
				typeof deck3 == 'undefined') {
				document.getElementById("test14").innerHTML = ("Test 14: Div destruction 3 passes.");
				console.log("Test 14: Div 1 Destruction passed.");

			}
			*/
		</script>
		<script>
			deck2.set_drag(1);
			console.log("Test 15: Deck 2 should be draggable now.");
			document.getElementById("test15").innerHTML = ("Test 15: Div draggability on deck 2 passes.");

		</script>

		<script>
			deck2.bring_to_top();
			console.log("Test 16: Deck 2 should be above deck 3 now.");
			document.getElementById("test16").innerHTML = ("Test 16: Div draggability on deck 2 passes.");
		</script>

		<script> // test 17: drawing cards
			var drawn_card = deck2.draw_card();
			console.log(document.getElementById(drawn_card));
			if (document.getElementById(drawn_card) != null){
			document.getElementById("test17").innerHTML = ("Test 17: New card should be on table from deck 2.");				
			}

		</script>

	</body>
</html>